<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Javascript : multiif_03</title>
  </head>
  <body>
    <script>
      // 회원이면 추가 할인 10%
      // 기본 이만원 / 13살 이하면 만원

      // let age = parseInt(prompt("나이를 입력하세요."));
      // let member = prompt("회원입니까? (예/아니오)");

      // if(age < 0) {
      //   document.write("올바른 나이를 입력해주세요. <br>");
      // } else {
      //     if (age >= 20) {
      //       document.write("성인입니다. <br>");
      //       if (member === "예") {
      //         document.write("최종 입장료: 18,000원 <br>");
      //       } else if (member === "아니오") {
      //         document.write("최종 입장료: 24,000원 <br>");
      //       }
      //     } else {
      //         document.write("미성년자입니다. <br>");
      //         if (member === "예") {
      //           document.write("최종 입장료: 10,000원 <br>");
      //         } else if (member === "아니오") {
      //           document.write("최종 입장료: 15,000원 <br>");
      //         }
      //       }
      //   }
      
        // 1. 올바른 나이를 입력했는지 확인.
        // 2. 성인인지 확인
        // 3. 그게 아니라면 미성년자다.
        // 4. 회원인지 확인
        // 5. 회원이였을 때 가격 안내, 아닐 때 가격 안내
        // 6. 



        //-----------------------------------------------------------------


      // 티켓 기본값: 20000
      // 어린이 할인: 50%
      // 노인 할인: 30%
      // 멤버쉽 할인: 10%
      // 중복 할인 불가능
      let age = parseInt(prompt("나이를 입력하세요."));
      let isMember = prompt("멤버쉽입니까?(예/아니오)");

      let price = 20000;
      let isDiscount = false; //중복 할인을 막기 위한 변수 선언
      
      //나이가 0보다 작고 멤버쉽이 예 이거나 아니오가 아닌 경우,  !관해서는..... ^^... 이해를 못 했음
      if (age < 0 || !(isMember === "예" || isMember === "아니오")) {
        document.write("입력값이 잘못되었습니다.")
      } else {
          if (age <= 13) { //첫번째 시작이기 때문에 기본값이 false라서 !isDiscount를 굳이 넣지 않아도 된다.
            document.write("어린이 할인이 되었습니다. <br>");
            price = price * 0.5; //50% 할인
            isDiscount = true;
          } 
          
          if (!isDiscount && age >= 60) { //디스카운트를 안 받았고 나이가 60이상이다.
            document.write("노인 할인이 되었습니다. <br>");
            price = price * 0.7; //30% 할인
            isDiscount = true;
          }

          if (!isDiscount && isMember === "예") { //디스카운트를 안 받았고 멤버쉽이다.
            document.write("멤버쉽 할인이 되었습니다. <br>");
            price = price * 0.9; //10% 할인
            isDiscount = true;
          }

          document.write("💰최종 입장료: " + price + "원");
      }

      // isDiscount === false 랑 !isDiscount 랑 같은 뜻
      // !isDiscount && age >= 60 : !isDiscount 부분에서 할인을 받은적이 있으면 뒤에 나이랑은 상관없이 애초에 이 부분을 성립이 되지 않아서 다음으로 넘어간다??? > 노인할인 적용 안하고 바로 멤버쉽 할인을 물어본다.

      
      // 1. 기본 입장료를 우선 넣어놓는다
      // 2. 나이가 13살 이하냐 물어본다. 
      // 3. 13살 이하면 50% 할인된다.
      // 4. 멤버쉽인지 물어본다.
      // 5. 잘못된 입력값에 대한 코드.
      // 6.
      // 7.
      // 8.



      //-----------------------------------------------------------------


      // 오류 처리를 하지 않으면 이 코드가 끝

      // let age = parseInt(prompt("나이를 입력하세요."));
      // let isMember = prompt("멤버쉽입니까?(예/아니오)");

      // let price = 20000;

      // if (age <= 13) {
      //   price = price * 0.5; //50% 할인
      // }

      // if (isMember === "예") {
      //   price = price * 0.9; //10% 할인
      // }

      // document.write("💰최종 입장료: " + price + "원");
    </script>
  </body>
</html>
